@using ArandanoIRT.Web._0_Domain.Common
@model ArandanoIRT.Web._0_Domain.Entities.InvitationCode
@{
    Layout = "_EmailLayout.cshtml";
    ViewData["Title"] = "Invitación para unirte a Arandano IRT";
}

<h1>¡Has sido invitado a Arandano IRT!</h1>

<p>Hola,</p>

<p>Has recibido una invitación para crear una cuenta en la plataforma de monitoreo Arandano IRT. Para completar tu registro, utiliza el siguiente código de un solo uso:</p>

<div class="code-box">
    @Model.Code
</div>

<p>Este código expirará el <strong>@Model.ExpiresAt.ToColombiaTime().ToString("F")</strong>.</p>

<p>Para registrarte, haz clic en el botón de abajo y proporciona este código cuando se te solicite.</p>

<table width="100%" border="0" cellspacing="0" cellpadding="0" style="margin: 24px 0;">
    <tr>
        <td align="center">
            @*
                Este botón ahora genera el enlace de registro directamente en la vista.
                1.  Usa Url.Action() para crear un enlace al método "Register" en "AccountController".
                2.  Pasa el código de invitación del modelo (@Model.Code) como un parámetro en la URL.
                    (Ejemplo: /Admin/Account/Register?code=ABCDE12345)
                3.  'protocol: Context.Request.Scheme' asegura que se genere una URL completa (https://...)
                    para que funcione correctamente desde el cliente de correo del usuario.
            *@
            <a href="@Url.Action("Register", "Account", new { code = Model.Code }, protocol: Context.Request.Scheme)" class="button">Crear mi Cuenta</a>

            <style>
                button{
                    color: white;
                }
            </style>
        </td>
    </tr>
</table>

<p>Si no esperabas esta invitación, puedes ignorar este correo de forma segura.</p>

<p>Gracias,<br>El equipo de Arandano IRT</p>
