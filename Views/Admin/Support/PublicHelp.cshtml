@model ArandanoIRT.Web._1_Application.DTOs.Admin.PublicHelpRequestDto
@{
    Layout = null;
    ViewData["Title"] = "Soporte y Ayuda";
}

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>@ViewData["Title"] - Arandano IRT</title>

    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="~/css/publicHelp.css" asp-append-version="true"/> 
</head>
<body>

<div class="auth-card">
    <div class="auth-header">
        <span class="emoji">ðŸ†˜</span>
        <h1>Formulario de Ayuda</h1>
        <p class="text-muted mt-2">Â¿Tienes problemas? EnvÃ­anos un mensaje y te contactaremos.</p>
    </div>

    <form asp-action="PublicHelp" method="post">
        <div asp-validation-summary="ModelOnly" class="text-danger"></div>
        
        <div class="form-group mb-3">
            <label asp-for="Name" class="form-label">Tu Nombre</label>
            <input asp-for="Name" class="form-control" placeholder="Escribe tu nombre completo"/>
            <span asp-validation-for="Name" class="text-danger"></span>
        </div>
        
        <div class="form-group mb-3">
            <label asp-for="ContactEmail" class="form-label">Correo de Contacto</label>
            <input asp-for="ContactEmail" class="form-control" placeholder="tucorreo@ejemplo.com"/>
            <span asp-validation-for="ContactEmail" class="text-danger"></span>
        </div>
        
        <div class="form-group mb-3">
            <label asp-for="Subject" class="form-label">Asunto</label>
            <input asp-for="Subject" class="form-control" placeholder="Â¿CuÃ¡l es el motivo de tu consulta?"/>
            <span asp-validation-for="Subject" class="text-danger"></span>
        </div>
        
        <div class="form-group mb-3">
            <label asp-for="Message" class="form-label">Mensaje</label>
            <textarea id="message-textarea" asp-for="Message" class="form-control auto-grow" rows="5" placeholder="Describe tu problema o duda con detalle..."></textarea>
            <span asp-validation-for="Message" class="text-danger"></span>
        </div>
        
        <div class="action-buttons">
            <button type="submit" class="btn btn-primary w-100">Enviar Solicitud</button>
            <a asp-controller="Account" asp-action="Login" class="btn btn-secondary-outline w-100">Volver a Inicio de SesiÃ³n</a>
        </div>
    </form>
</div>

<script src="~/lib/jquery/dist/jquery.min.js"></script>
<partial name="_ValidationScriptsPartial" />
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const textarea = document.getElementById('message-textarea');

        if (textarea) {
            const adjustHeight = () => {
                textarea.style.height = 'auto'; // Resetea la altura para recalcular
                textarea.style.height = (textarea.scrollHeight) + 'px'; // Ajusta la altura al contenido
            };

            // Llama a la funciÃ³n cuando el usuario escribe
            textarea.addEventListener('input', adjustHeight);

            // Ajusta la altura inicial por si hay contenido precargado
            adjustHeight();
        }
    });
</script>

</body>
</html>
